{"version":3,"file":"index.m.js","sources":["../src/index.js"],"sourcesContent":["import { Controller } from \"stimulus\";\n\nexport default class extends Controller {\n  connect() {\n    this._searchForConductor();\n  }\n\n  _searchForConductor() {\n    const conductor = this.element.closest(\n      `[data-controller*=\"${this._conductorName}\"]`\n    );\n\n    if (conductor) {\n      const conductorController = this.application.getControllerForElementAndIdentifier(\n        conductor,\n        this._conductorName\n      );\n\n      this[`${this._conductorName}Controller`] = conductorController;\n\n      conductorController && conductorController._addMusician(this);\n    }\n  }\n\n  _addMusician(musicianController) {\n    this[`${musicianController.identifier}Controllers`] = [\n      ...(this[`${musicianController.identifier}Controllers`] || []),\n      musicianController\n    ];\n  }\n\n  get _conductorName() {\n    return this.constructor.conductorId || `${this.identifier}s`;\n  }\n}\n"],"names":["_searchForConductor","conductor","element","closest","_conductorName","conductorController","application","getControllerForElementAndIdentifier","_addMusician","musicianController","identifier","constructor","conductorId","Controller"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAGY;WACHA,mBAAL;;;;0CAGoB;UACdC,SAAS,GAAG,KAAKC,OAAL,CAAaC,OAAb,+BACM,KAAKC,cADX,SAAlB;;UAIIH,SAAJ,EAAe;YACPI,mBAAmB,GAAG,KAAKC,WAAL,CAAiBC,oCAAjB,CAC1BN,SAD0B,EAE1B,KAAKG,cAFqB,CAA5B;uBAKQ,KAAKA,cAAb,mBAA2CC,mBAA3C;QAEAA,mBAAmB,IAAIA,mBAAmB,CAACG,YAApB,CAAiC,IAAjC,CAAvB;;;;;iCAISC,oBAAoB;qBACvBA,kBAAkB,CAACC,UAA3B,iDACM,eAAQD,kBAAkB,CAACC,UAA3B,qBAAuD,EAD7D,IAEED,kBAFF;;;;wBAMmB;aACZ,KAAKE,WAAL,CAAiBC,WAAjB,cAAmC,KAAKF,UAAxC,MAAP;;;;;EA9ByBG;;;;"}