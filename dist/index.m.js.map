{"version":3,"file":"index.m.js","sources":["../src/index.js"],"sourcesContent":["import { Controller } from \"stimulus\";\n\nexport default class extends Controller {\n  connect() {\n    this._searchForConductor();\n  }\n\n  _searchForConductor() {\n    const conductor = this.element.closest(\n      `[data-controller*=\"${this._conductorName}\"]`\n    );\n\n    if (conductor) {\n      const conductorController = this.application.getControllerForElementAndIdentifier(\n        conductor,\n        this._conductorName\n      );\n\n      this[`${this._conductorName}Controller`] = conductorController;\n\n      conductorController && conductorController._addMusician(this);\n    }\n  }\n\n  _addMusician(musicianController) {\n    this[`${musicianController.identifier}Controllers`] = [\n      ...(this[`${musicianController.identifier}Controllers`] || []),\n      musicianController\n    ];\n  }\n\n  get _conductorName() {\n    return this.constructor.conductorId || `${this.identifier}s`;\n  }\n}\n"],"names":["Controller","connect","_searchForConductor","conductor","element","closest","_conductorName","conductorController","application","getControllerForElementAndIdentifier","_addMusician","musicianController","identifier","constructor","conductorId"],"mappings":";;AAEe,oBAAcA,UAAd,CAAyB;EACtCC,OAAO,GAAG;SACHC,mBAAL;;;EAGFA,mBAAmB,GAAG;UACdC,SAAS,GAAG,KAAKC,OAAL,CAAaC,OAAb,CACf,sBAAqB,KAAKC,cAAe,IAD1B,CAAlB;;QAIIH,SAAJ,EAAe;YACPI,mBAAmB,GAAG,KAAKC,WAAL,CAAiBC,oCAAjB,CAC1BN,SAD0B,EAE1B,KAAKG,cAFqB,CAA5B;WAKM,GAAE,KAAKA,cAAe,YAA5B,IAA2CC,mBAA3C;MAEAA,mBAAmB,IAAIA,mBAAmB,CAACG,YAApB,CAAiC,IAAjC,CAAvB;;;;EAIJA,YAAY,CAACC,kBAAD,EAAqB;SACzB,GAAEA,kBAAkB,CAACC,UAAW,aAAtC,IAAsD,CACpD,IAAI,KAAM,GAAED,kBAAkB,CAACC,UAAW,aAAtC,KAAuD,EAA3D,CADoD,EAEpDD,kBAFoD,CAAtD;;;MAMEL,cAAJ,GAAqB;WACZ,KAAKO,WAAL,CAAiBC,WAAjB,IAAiC,GAAE,KAAKF,UAAW,GAA1D;;;;;;;"}