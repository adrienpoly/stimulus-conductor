{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["import { Controller } from \"stimulus\";\n\nexport default class extends Controller {\n  connect() {\n    this._searchForConductor();\n  }\n\n  _searchForConductor() {\n    const conductor = this.element.closest(\n      `[data-controller*=\"${this._conductorName}\"]`\n    );\n\n    if (conductor) {\n      const conductorController = this.application.getControllerForElementAndIdentifier(\n        conductor,\n        this._conductorName\n      );\n\n      this[`${this._conductorName}Controller`] = conductorController;\n\n      conductorController && conductorController._addMusician(this);\n    }\n  }\n\n  _addMusician(musicianController) {\n    this[`${musicianController.identifier}Controllers`] = [\n      ...(this[`${musicianController.identifier}Controllers`] || []),\n      musicianController\n    ];\n  }\n\n  get _conductorName() {\n    return this.constructor.conductorId || `${this.identifier}s`;\n  }\n}\n"],"names":["_searchForConductor","conductor","element","closest","_conductorName","conductorController","application","getControllerForElementAndIdentifier","_addMusician","musicianController","identifier","constructor","conductorId","Controller"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCAGY;EACR,WAAKA,mBAAL;EACD;;;4CAEqB;EACpB,UAAMC,SAAS,GAAG,KAAKC,OAAL,CAAaC,OAAb,+BACM,KAAKC,cADX,SAAlB;;EAIA,UAAIH,SAAJ,EAAe;EACb,YAAMI,mBAAmB,GAAG,KAAKC,WAAL,CAAiBC,oCAAjB,CAC1BN,SAD0B,EAE1B,KAAKG,cAFqB,CAA5B;EAKA,uBAAQ,KAAKA,cAAb,mBAA2CC,mBAA3C;EAEAA,QAAAA,mBAAmB,IAAIA,mBAAmB,CAACG,YAApB,CAAiC,IAAjC,CAAvB;EACD;EACF;;;mCAEYC,oBAAoB;EAC/B,qBAAQA,kBAAkB,CAACC,UAA3B,iDACM,eAAQD,kBAAkB,CAACC,UAA3B,qBAAuD,EAD7D,IAEED,kBAFF;EAID;;;0BAEoB;EACnB,aAAO,KAAKE,WAAL,CAAiBC,WAAjB,cAAmC,KAAKF,UAAxC,MAAP;EACD;;;;IA/B0BG;;;;;;;;"}